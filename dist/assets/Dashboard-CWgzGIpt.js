import{r as w,I as V,_ as K,j as s,B as ce,m as mt,R as m,g as Ue,p as g,M as pe,a as ht}from"./index-DIsjo2UG.js";import{u as C,w as _e,E as je,c as M,f as O,_ as We,a as Ge,b as vt,d as gt,i as B,T as we,p as I,L as R,g as qe,e as Oe,h as Ze,D as yt,j as xt,C as bt,k as X,l as U,S as At,A as kt,m as _t,n as $e,o as jt,q as G,r as wt,G as Ot,s as Pt,t as St,v as ae,x as Ce,y as oe,z as Xe,B as Ye,F as Je,X as Qe,Y as et,H as Tt,I as Et,J as tt,R as nt,K as Rt,M as rt}from"./generateCategoricalChart-DFrLAwa-.js";import it from"./html2canvas.esm-CBrSDip1.js";import"./PurePanel-CY7e_Fp4.js";var $t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"},Ct=function(t,r){return w.createElement(V,K({},t,{ref:r,icon:$t}))},Pe=w.forwardRef(Ct),It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-pdf",theme:"outlined"},Lt=function(t,r){return w.createElement(V,K({},t,{ref:r,icon:It}))},Se=w.forwardRef(Lt),Nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Mt=function(t,r){return w.createElement(V,K({},t,{ref:r,icon:Nt}))},zt=w.forwardRef(Mt),Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},Bt=function(t,r){return w.createElement(V,K({},t,{ref:r,icon:Ft}))},at=w.forwardRef(Bt),Dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"},Vt=function(t,r){return w.createElement(V,K({},t,{ref:r,icon:Dt}))},Kt=w.forwardRef(Vt),Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},Ut=function(t,r){return w.createElement(V,K({},t,{ref:r,icon:Ht}))},Wt=w.forwardRef(Ut),Gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},qt=function(t,r){return w.createElement(V,K({},t,{ref:r,icon:Gt}))},Zt=w.forwardRef(qt);const Xt=({dashboardData:e})=>{var c,l,u,d,h,_,v,p,x,k,j,P;const t=((l=(c=e==null?void 0:e.brand_price_comparison)==null?void 0:c.buckets)==null?void 0:l.length)??0,r=(h=(u=e==null?void 0:e.brand_price_comparison)==null?void 0:u.buckets)==null?void 0:h.reduce((b,y)=>b.avg_price.value>y.avg_price.value?b:y,(d=e==null?void 0:e.brand_price_comparison)==null?void 0:d.buckets[0]),n=(x=(v=(_=e==null?void 0:e.brand_price_comparison)==null?void 0:_.buckets)==null?void 0:v.filter(b=>b.min_price.value>0))==null?void 0:x.reduce((b,y)=>b.min_price.value<y.min_price.value?b:y,(p=e==null?void 0:e.brand_price_comparison)==null?void 0:p.buckets[0]),i=(P=(k=e==null?void 0:e.brand_price_comparison)==null?void 0:k.buckets)==null?void 0:P.reduce((b,y)=>b.max_price.value>y.max_price.value?b:y,(j=e==null?void 0:e.brand_price_comparison)==null?void 0:j.buckets[0]),a=[{icon:s.jsx(zt,{}),title:"Total Car Brands",count:t.toString()},{icon:s.jsx(Zt,{}),title:"Average Car Price",count:r?`${r.key} / ${r.avg_price.value.toLocaleString()} TMT`:"N/A"},{icon:s.jsx(Kt,{}),title:"Cheapest Car",count:n?`${n.key} / ${n.min_price.value.toLocaleString()} TMT`:"N/A"},{icon:s.jsx(Wt,{}),title:"Most Expensive Car",count:i?`${i.key} / ${i.max_price.value.toLocaleString()} TMT`:"N/A"}],o=()=>{const b=C.json_to_sheet(a.map(S=>({Title:S.title,Count:S.count}))),y=C.book_new();C.book_append_sheet(y,b,"Dashboard Cards"),_e(y,"Dashboard_Cards.xlsx")},f=()=>{const b=new je,y=a.map(S=>[S.title,S.count]);b.autoTable({head:[["Title","Count"]],body:y}),b.save("Dashboard_Cards.pdf")};return s.jsxs("div",{children:[s.jsxs("div",{className:"toolbar",children:[s.jsx("div",{className:"toolbar-title",children:"Dashboard Summary"}),s.jsxs("div",{className:"download-buttons",children:[s.jsx(ce,{type:"primary",icon:s.jsx(Pe,{}),onClick:o,children:"Download Excel"}),s.jsx(ce,{type:"primary",icon:s.jsx(Se,{}),onClick:f,children:"Download PDF"})]})]}),s.jsx("div",{className:"cards-container",children:a.map((b,y)=>s.jsxs(mt.div,{className:"card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},transition:{duration:.5,delay:y*.1,type:"spring",stiffness:300},children:[s.jsx("div",{className:"card-icon",children:b.icon}),s.jsx("div",{className:"card-title",children:b.title}),s.jsx("div",{className:"card-count",children:b.count})]},y))})]})};var Yt=["points","className","baseLinePoints","connectNulls"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}function Jt(e,t){if(e==null)return{};var r=Qt(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ie(e){return rn(e)||nn(e)||tn(e)||en()}function en(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(e,t){if(e){if(typeof e=="string")return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ge(e,t)}}function nn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rn(e){if(Array.isArray(e))return ge(e)}function ge(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Le=function(t){return t&&t.x===+t.x&&t.y===+t.y},an=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Le(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Le(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},te=function(t,r){var n=an(t);r&&(n=[n.reduce(function(a,o){return[].concat(Ie(a),Ie(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,f,c){return"".concat(o).concat(c===0?"M":"L").concat(f.x,",").concat(f.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},on=function(t,r,n){var i=te(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(te(r.reverse(),n).slice(1))},sn=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=Jt(t,Yt);if(!r||!r.length)return null;var f=M("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",l=on(r,i,a);return m.createElement("g",{className:f},m.createElement("path",q({},O(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),c?m.createElement("path",q({},O(o,!0),{fill:"none",d:te(r,a)})):null,c?m.createElement("path",q({},O(o,!0),{fill:"none",d:te(i,a)})):null)}var u=te(r,a);return m.createElement("path",q({},O(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:f,d:u}))},cn=We,ln=vt,un=Ge;function fn(e,t){return e&&e.length?cn(e,un(t),ln):void 0}var pn=fn;const dn=Ue(pn);var mn=We,hn=Ge,vn=gt;function gn(e,t){return e&&e.length?mn(e,hn(t),vn):void 0}var yn=gn;const xn=Ue(yn);var bn=["cx","cy","angle","ticks","axisLine"],An=["ticks","tick","angle","tickFormatter","stroke"];function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ne(Object(r),!0).forEach(function(n){de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Me(e,t){if(e==null)return{};var r=kn(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kn(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,st(n.key),n)}}function jn(e,t,r){return t&&ze(e.prototype,t),r&&ze(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wn(e,t,r){return t=le(t),On(e,ot()?Reflect.construct(t,r||[],le(e).constructor):t.apply(e,r))}function On(e,t){if(t&&(Y(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}function Pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ot=function(){return!!e})()}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},le(e)}function Sn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}function ye(e,t){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ye(e,t)}function de(e,t,r){return t=st(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e){var t=Tn(e,"string");return Y(t)=="symbol"?t:String(t)}function Tn(e,t){if(Y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var me=function(e){Sn(t,e);function t(){return _n(this,t),wn(this,t,arguments)}return jn(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,f=a.cx,c=a.cy;return I(f,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,f=n.ticks,c=dn(f,function(u){return u.coordinate||0}),l=xn(f,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,f=n.ticks,c=n.axisLine,l=Me(n,bn),u=f.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),d=I(i,a,u[0],o),h=I(i,a,u[1],o),_=z(z(z({},O(l,!1)),{},{fill:"none"},O(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return m.createElement("line",ne({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,f=i.angle,c=i.tickFormatter,l=i.stroke,u=Me(i,An),d=this.getTickTextAnchor(),h=O(u,!1),_=O(o,!1),v=a.map(function(p,x){var k=n.getTickValueCoord(p),j=z(z(z(z({textAnchor:d,transform:"rotate(".concat(90-f,", ").concat(k.x,", ").concat(k.y,")")},h),{},{stroke:"none",fill:l},_),{},{index:x},k),{},{payload:p});return m.createElement(R,ne({className:M("recharts-polar-radius-axis-tick",qe(o)),key:"tick-".concat(p.coordinate)},Oe(n.props,p,x)),t.renderTickItem(o,j,c?c(p.value,x):p.value))});return m.createElement(R,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:m.createElement(R,{className:M("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ze.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return m.isValidElement(n)?o=m.cloneElement(n,i):B(n)?o=n(i):o=m.createElement(we,ne({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),t}(w.PureComponent);de(me,"displayName","PolarRadiusAxis");de(me,"axisType","radiusAxis");de(me,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function J(e){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(n){he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lt(n.key),n)}}function Rn(e,t,r){return t&&Be(e.prototype,t),r&&Be(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $n(e,t,r){return t=ue(t),Cn(e,ct()?Reflect.construct(t,r||[],ue(e).constructor):t.apply(e,r))}function Cn(e,t){if(t&&(J(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ct=function(){return!!e})()}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ue(e)}function Ln(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xe(e,t)}function he(e,t,r){return t=lt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e){var t=Nn(e,"string");return J(t)=="symbol"?t:String(t)}function Nn(e,t){if(J(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn=Math.PI/180,De=1e-5,ve=function(e){Ln(t,e);function t(){return En(this,t),$n(this,t,arguments)}return Rn(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,f=i.radius,c=i.orientation,l=i.tickSize,u=l||8,d=I(a,o,f,n.coordinate),h=I(a,o,f+(c==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Mn),o;return a>De?o=i==="outer"?"start":"end":a<-De?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,f=n.axisLine,c=n.axisLineType,l=F(F({},O(this.props,!1)),{},{fill:"none"},O(f,!1));if(c==="circle")return m.createElement(yt,D({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(h){return I(i,a,o,h.coordinate)});return m.createElement(sn,D({className:"recharts-polar-angle-axis-line"},l,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,f=i.tickLine,c=i.tickFormatter,l=i.stroke,u=O(this.props,!1),d=O(o,!1),h=F(F({},u),{},{fill:"none"},O(f,!1)),_=a.map(function(v,p){var x=n.getTickLineCoord(v),k=n.getTickTextAnchor(v),j=F(F(F({textAnchor:k},u),{},{stroke:"none",fill:l},d),{},{index:p,payload:v,x:x.x2,y:x.y2});return m.createElement(R,D({className:M("recharts-polar-angle-axis-tick",qe(o)),key:"tick-".concat(v.coordinate)},Oe(n.props,v,p)),f&&m.createElement("line",D({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,j,c?c(v.value,p):v.value))});return m.createElement(R,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:m.createElement(R,{className:M("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return m.isValidElement(n)?o=m.cloneElement(n,i):B(n)?o=n(i):o=m.createElement(we,D({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),t}(w.PureComponent);he(ve,"displayName","PolarAngleAxis");he(ve,"axisType","angleAxis");he(ve,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var se;function Q(e){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(e)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(this,arguments)}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ve(Object(r),!0).forEach(function(n){E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ft(n.key),n)}}function Fn(e,t,r){return t&&Ke(e.prototype,t),r&&Ke(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bn(e,t,r){return t=fe(t),Dn(e,ut()?Reflect.construct(t,r||[],fe(e).constructor):t.apply(e,r))}function Dn(e,t){if(t&&(Q(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ut=function(){return!!e})()}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fe(e)}function W(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},be(e,t)}function E(e,t,r){return t=ft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ft(e){var t=Kn(e,"string");return Q(t)=="symbol"?t:String(t)}function Kn(e,t){if(Q(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L=function(e){Vn(t,e);function t(r){var n;return zn(this,t),n=Bn(this,t,[r]),E(W(n),"pieRef",null),E(W(n),"sectorRefs",[]),E(W(n),"id",xt("recharts-pie-")),E(W(n),"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),B(i)&&i()}),E(W(n),"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),B(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Fn(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,f=a.labelLine,c=a.dataKey,l=a.valueKey,u=O(this.props,!1),d=O(o,!1),h=O(f,!1),_=o&&o.offsetRadius||20,v=n.map(function(p,x){var k=(p.startAngle+p.endAngle)/2,j=I(p.cx,p.cy,p.outerRadius+_,k),P=A(A(A(A({},u),p),{},{stroke:"none"},d),{},{index:x,textAnchor:t.getTextAnchor(j.x,p.cx)},j),b=A(A(A(A({},u),p),{},{fill:"none",stroke:p.fill},h),{},{index:x,points:[I(p.cx,p.cy,p.outerRadius,k),j],key:"line"}),y=c;return X(c)&&X(l)?y="value":X(c)&&(y=l),m.createElement(R,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},f&&t.renderLabelLineItem(f,b),t.renderLabelItem(o,P,U(p,y)))});return m.createElement(R,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,f=a.blendStroke,c=a.inactiveShape;return n.map(function(l,u){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(u),h=c&&i.hasActiveIndex()?c:null,_=d?o:h,v=A(A({},l),{},{stroke:f?l.fill:l.stroke,tabIndex:-1});return m.createElement(R,Z({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Oe(i.props,l,u),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(u)}),m.createElement(At,Z({option:_,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,f=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state,h=d.prevSectors,_=d.prevIsAnimationActive;return m.createElement(kt,{begin:f,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,x=[],k=a&&a[0],j=k.startAngle;return a.forEach(function(P,b){var y=h&&h[b],S=b>0?_t(P,"paddingAngle",0):0;if(y){var ee=$e(y.endAngle-y.startAngle,P.endAngle-P.startAngle),T=A(A({},P),{},{startAngle:j+S,endAngle:j+ee(p)+S});x.push(T),j=T.endAngle}else{var H=P.endAngle,$=P.startAngle,re=$e(0,H-$),ie=re(p),N=A(A({},P),{},{startAngle:j+S,endAngle:j+ie+S});x.push(N),j=N.endAngle}}),m.createElement(R,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var f=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[f].focus(),i.setState({sectorToFocus:f});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!jt(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,f=i.className,c=i.label,l=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,_=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!G(l)||!G(u)||!G(d)||!G(h))return null;var p=M("recharts-pie",f);return m.createElement(R,{tabIndex:this.props.rootTabIndex,className:p,ref:function(k){n.pieRef=k}},this.renderSectors(),c&&this.renderLabels(o),Ze.renderCallByParent(this.props,null,!1),(!_||v)&&wt.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i){if(m.isValidElement(n))return m.cloneElement(n,i);if(B(n))return n(i);var a=M("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return m.createElement(bt,Z({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,a){if(m.isValidElement(n))return m.cloneElement(n,i);var o=a;if(B(n)&&(o=n(i),m.isValidElement(o)))return o;var f=M("recharts-pie-label-text",typeof n!="boolean"&&!B(n)?n.className:"");return m.createElement(we,Z({},i,{alignmentBaseline:"middle",className:f}),o)}}]),t}(w.PureComponent);se=L;E(L,"displayName","Pie");E(L,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ot.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});E(L,"parseDeltaAngle",function(e,t){var r=oe(t-e),n=Math.min(Math.abs(t-e),360);return r*n});E(L,"getRealPieData",function(e){var t=e.props,r=t.data,n=t.children,i=O(e.props,!1),a=Pt(n,Xe);return r&&r.length?r.map(function(o,f){return A(A(A({payload:o},i),o),a&&a[f]&&a[f].props)}):a&&a.length?a.map(function(o){return A(A({},i),o.props)}):[]});E(L,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=St(i,a),f=n+ae(e.props.cx,i,i/2),c=r+ae(e.props.cy,a,a/2),l=ae(e.props.innerRadius,o,0),u=ae(e.props.outerRadius,o,o*.8),d=e.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:f,cy:c,innerRadius:l,outerRadius:u,maxRadius:d}});E(L,"getComposedData",function(e){var t=e.item,r=e.offset,n=se.getRealPieData(t);if(!n||!n.length)return null;var i=t.props,a=i.cornerRadius,o=i.startAngle,f=i.endAngle,c=i.paddingAngle,l=i.dataKey,u=i.nameKey,d=i.valueKey,h=i.tooltipType,_=Math.abs(t.props.minAngle),v=se.parseCoordinateOfPie(t,r),p=se.parseDeltaAngle(o,f),x=Math.abs(p),k=l;X(l)&&X(d)?(Ce(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):X(l)&&(Ce(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=d);var j=n.filter(function(T){return U(T,k,0)!==0}).length,P=(x>=360?j:j-1)*c,b=x-j*_-P,y=n.reduce(function(T,H){var $=U(H,k,0);return T+(G($)?$:0)},0),S;if(y>0){var ee;S=n.map(function(T,H){var $=U(T,k,0),re=U(T,u,H),ie=(G($)?$:0)/y,N;H?N=ee.endAngle+oe(p)*c*($!==0?1:0):N=o;var Te=N+oe(p)*(($!==0?_:0)+ie*b),Ee=(N+Te)/2,Re=(v.innerRadius+v.outerRadius)/2,pt=[{name:re,value:$,payload:T,dataKey:k,type:h}],dt=I(v.cx,v.cy,Re,Ee);return ee=A(A(A({percent:ie,cornerRadius:a,name:re,tooltipPayload:pt,midAngle:Ee,middleRadius:Re,tooltipPosition:dt},T),v),{},{value:U(T,k),startAngle:N,endAngle:Te,payload:T,paddingAngle:oe(p)*c}),ee})}return A(A({},v),{},{sectors:S,data:n})});var Hn=Ye({chartName:"BarChart",GraphicalChild:Je,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qe},{axisType:"yAxis",AxisComp:et}],formatAxisMap:Tt}),Un=Ye({chartName:"PieChart",GraphicalChild:L,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ve},{axisType:"radiusAxis",AxisComp:me}],formatAxisMap:Et,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Wn=g.div`
  width: 100%;
  padding: 20px;
  background: #fff;
  border-radius: 6px;
  box-shadow: 0px 12px 16px -4px rgba(12, 26, 36, 0.04);
  margin-top: 30px;
  display: flex;
  flex-direction: column;
`,Gn=g.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,qn=g.span`
  font-family: "Inter", sans-serif;
  font-weight: 700;
  font-size: 18px;
  line-height: 24px;
  color: #081735;
`,Zn=g(ce)`
  border: none;
  background: none;
  padding: 0;
  font-size: 16px;
  color: #1e293b;

  &:hover {
    color: #6c5dd3;
  }
`,Ae=g(pe.Item)`
  font-family: "Inter", sans-serif;
  font-weight: 400;
  font-size: 14px;
  line-height: 20px;
  color: #8f95b2;

  &:hover {
    background-color: #f5f5f5;
  }
`;g(Ae)`
  color: #ff754c;
`;const Xn=g.div`
  height: 1px;
  background-color: #e0e0e0;
  margin: 20px 0;
`,Yn=g.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* Aligns title and chart to the left */
`,Jn=g.h2`
  font-family: "Inter", sans-serif;
  font-weight: 700;
  font-size: 32px;
  line-height: 32px;
  color: #081735;
  margin-bottom: 20px;
  text-align: left; /* Align title to the left */
`,Qn=({dashboardData:e})=>{var l;const[t,r]=m.useState(!1),n=u=>{u.key==="excel"?i():u.key==="pdf"&&a()},i=()=>{const u=C.json_to_sheet(f.map(h=>({Month:h.key.toString(),Count:h.price_and_year.value}))),d=C.book_new();C.book_append_sheet(d,u,"Annual Average Vehicles"),_e(d,"Annual_Average_Vehicles.xlsx")},a=async()=>{const u=new je,d=f.map(v=>[v.key.toString(),v.price_and_year.value]);u.autoTable({head:[["Month","Count"]],body:d});const _=(await it(document.querySelector("#chart-container"))).toDataURL("image/png");u.addPage(),u.addImage(_,"PNG",10,10,180,100),u.save("Annual_Average_Vehicles.pdf")},o=s.jsxs(pe,{onClick:n,style:{border:"none"},children:[s.jsx(Ae,{icon:s.jsx(Pe,{}),children:"Download Excel"},"excel"),s.jsx(Ae,{icon:s.jsx(Se,{}),children:"Download PDF"},"pdf")]}),f=((l=e==null?void 0:e.price_correlation_year)==null?void 0:l.buckets)||[],c=f.map(u=>({month:u.key.toString(),count:u.price_and_year.value}));return s.jsxs(Wn,{children:[s.jsxs(Gn,{children:[s.jsx(qn,{children:"Ulaglaryň ýyllyk ortalamasy"}),s.jsx(tt,{overlay:o,trigger:["click"],visible:t,onVisibleChange:u=>r(u),children:s.jsx(Zn,{icon:s.jsx(at,{})})})]}),s.jsx(Xn,{}),s.jsxs(Yn,{id:"chart-container",children:[s.jsx(Jn,{children:"112,340 TMT"}),s.jsx(nt,{width:"100%",height:300,children:s.jsxs(Hn,{data:c,children:[s.jsx(Rt,{strokeDasharray:"3 3"}),s.jsx(Qe,{dataKey:"month",tick:{fontSize:12,fill:"#8f95b2"}}),s.jsx(et,{tick:{fontSize:12,fill:"#8f95b2"}}),s.jsx(rt,{content:({payload:u})=>{if(u&&u.length){const{value:d}=u[0];return s.jsx("div",{style:{backgroundColor:"#fff",padding:"5px",borderRadius:"4px",border:"1px solid #ddd"},children:s.jsx("p",{children:`Count: ${d}`})})}return null}}),s.jsx(Je,{dataKey:"count",fill:"#4CAF50",radius:[4,4,0,0]})]})})]})]})},er=g.div`
  width: 100%;
  padding: 20px;
  background: #fff;
  border-radius: 6px;
  box-shadow: 0px 12px 16px -4px rgba(12, 26, 36, 0.04);
  margin-top: 30px;
  display: flex;
  flex-direction: column;
`,tr=g.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
`,nr=g.div`
  display: flex;
  flex-direction: column;
`,rr=g.span`
  font-family: "Inter", sans-serif;
  font-weight: 700;
  font-size: 18px;
  line-height: 24px;
  color: #081735;
`,ir=g.p`
  font-family: "Inter", sans-serif;
  font-weight: 400;
  font-size: 12px;
  line-height: 16px;
  color: #8f95b2;
  margin: 5px 0 0 0; // Adjust margin as needed
`,ar=g(ce)`
  border: none;
  background: none;
  padding: 0;
  font-size: 16px;
  color: #1e293b;

  &:hover {
    color: #6c5dd3;
  }
`,ke=g(pe.Item)`
  font-family: "Inter", sans-serif;
  font-weight: 400;
  font-size: 14px;
  line-height: 20px;
  color: #8f95b2;

  &:hover {
    background-color: #f5f5f5;
  }
`;g(ke)`
  color: #ff754c;
`;const or=g.div`
  height: 1px;
  background-color: #e0e0e0;
  margin: 20px 0;
`,sr=g.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 20px; // Adjust gap as needed
`,cr=g.div`
  flex: 3;
`,lr=g.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 300px; // Set max height to limit the visible area
  overflow-y: auto; // Enable vertical scrolling
  overflow-x: hidden; // Hide horizontal scrollbar
  scrollbar-width: none; // Hide scrollbar for Firefox
  -ms-overflow-style: none; // Hide scrollbar for Internet Explorer and Edge

  ::-webkit-scrollbar {
    display: none; // Hide scrollbar for WebKit browsers
  }
`,ur=g.div`
  display: flex;
  align-items: center;
  gap: 10px;
`;g.div`
  width: 40px;
  height: 40px;
  background: #e0e0e0;
  border-radius: 50%;
`;const fr=g.div`
  display: flex;
  flex-direction: column;
`,pr=g.span`
  font-family: "Inter", sans-serif;
  font-weight: 400;
  font-size: 12px;
  line-height: 16px;
  color: #8f95b2;
`,dr=g.span`
  font-family: "Inter", sans-serif;
  font-weight: 700;
  font-size: 14px;
  line-height: 20px;
  color: #081735;
`,mr=g.h2`
  font-family: "Inter", sans-serif;
  font-weight: 700;
  font-size: 32px;
  line-height: 32px;
  color: #081735;
  margin-bottom: 20px;
  text-align: left;
`,hr=({dashboardData:e})=>{const[t,r]=m.useState(!1);w.useEffect(()=>{if(e&&e.top){const c=e.top.map(u=>u._source.bahasy),l=Math.max(...c);console.log("Max Price:",l)}else console.log("Dashboard data or top field is undefined")},[e]);const n=c=>{c.key==="excel"?i():c.key==="pdf"&&a()},i=()=>{const c=C.json_to_sheet(e.top.map(u=>({Name:`${u._source.markasy} ${u._source.ady} ${u._source.yyly}`,Price:u._source.bahasy||0}))),l=C.book_new();C.book_append_sheet(l,c,"Top Cars"),_e(l,"Top_Cars.xlsx")},a=async()=>{const c=new je,l=e.top.map(h=>[`${h._source.markasy} ${h._source.ady} ${h._source.yyly}`,h._source.bahasy||0]);c.autoTable({head:[["Car","Price"]],body:l});const d=(await it(document.querySelector("#chart-container"))).toDataURL("image/png");c.addPage(),c.addImage(d,"PNG",10,10,180,100),c.save("Top_Cars.pdf")},o=s.jsxs(pe,{onClick:n,style:{border:"none"},children:[s.jsx(ke,{icon:s.jsx(Pe,{}),children:"Download Excel"},"excel"),s.jsx(ke,{icon:s.jsx(Se,{}),children:"Download PDF"},"pdf")]});if(!e||!e.top)return s.jsx("div",{children:"Error: Dashboard data is not available"});const f=e.top.map(c=>({name:`${c._source.markasy} ${c._source.ady} ${c._source.yyly}`,value:c._source.bahasy||0}));return s.jsxs(er,{children:[s.jsxs(tr,{children:[s.jsxs(nr,{children:[s.jsx(rr,{children:"Ulaglar TOP-10"}),s.jsx(ir,{children:"Ulaglar boýunça gysgaça hasabat"})]}),s.jsx(tt,{overlay:o,trigger:["click"],visible:t,onVisibleChange:c=>r(c),children:s.jsx(ar,{icon:s.jsx(at,{})})})]}),s.jsx(or,{}),s.jsxs(sr,{id:"chart-container",children:[s.jsxs(cr,{children:[s.jsx(mr,{children:"Market Share"}),s.jsx(nt,{width:"100%",height:300,children:s.jsxs(Un,{children:[s.jsx(rt,{}),s.jsx(L,{data:f,dataKey:"value",nameKey:"name",outerRadius:120,innerRadius:40,fill:"#8884d8",label:!0,children:f.map((c,l)=>s.jsx(Xe,{fill:"#8884d8"},`cell-${l}`))})]})})]}),s.jsx(lr,{children:f.map((c,l)=>s.jsx(ur,{children:s.jsxs(fr,{children:[s.jsxs(dr,{children:[c.value," TMT"]}),s.jsx(pr,{children:c.name}),s.jsx("hr",{})]})},l))})]})]})},vr=ht.create({baseURL:"http://95.85.121.153:3066",timeout:3e4,headers:{"Content-Type":"application/json"}}),gr=g.div`
  display: flex;
  flex-direction: column;
  gap: 20px;

  @media (min-width: 768px) {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
  }

  @media (min-width: 1024px) {
    flex-direction: row;
  }
`,He=g.div`
  flex: 1;
  min-width: 300px;
  margin: 10px;
`,yr=g.div`
  width: 100%;
  height: 2px;
  background: #e0e0e0;
  margin: 40px 0;
`,_r=()=>{const[e,t]=w.useState(null);return w.useEffect(()=>{(async()=>{try{console.log("Fetching dashboard data...");const n=await vr.get("/api/get-dashboard");t(n.data)}catch(n){console.error("Error fetching dashboard data:",n)}})()},[]),s.jsxs("div",{children:[s.jsx(Xt,{dashboardData:e}),s.jsx(yr,{}),s.jsxs(gr,{children:[s.jsx(He,{children:s.jsx(Qn,{dashboardData:e})}),s.jsx(He,{children:s.jsx(hr,{dashboardData:e})})]})]})};export{_r as default};
